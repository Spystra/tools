(async () => {
  // Create a 1x1 black JPEG image (very small)
  const jpegBytes = new Uint8Array([
    0xFF,0xD8,0xFF,0xE0,0x00,0x10,0x4A,0x46,0x49,0x46,0x00,0x01,0x01,0x00,
    0x00,0x01,0x00,0x01,0x00,0x00,0xFF,0xDB,0x00,0x43,0x00,0x08,0x06,0x06,
    0x07,0x06,0x05,0x08,0x07,0x07,0x07,0x09,0x09,0x08,0x0A,0x0C,0x14,0x0D,
    0x0C,0x0B,0x0B,0x0C,0x19,0x12,0x13,0x0F,0x14,0x1D,0x1A,0x1F,0x1E,0x1D,
    0x1A,0x1C,0x1C,0x20,0x24,0x2E,0x27,0x20,0x22,0x2C,0x23,0x1C,0x1C,0x28,
    0x37,0x29,0x2C,0x30,0x31,0x34,0x34,0x34,0x1F,0x27,0x39,0x3D,0x38,0x32,
    0x3C,0x2E,0x33,0x34,0x32,0xFF,0xC0,0x00,0x11,0x08,0x00,0x01,0x00,0x01,
    0x03,0x01,0x11,0x00,0x02,0x11,0x01,0x03,0x11,0x01,0xFF,0xC4,0x00,0x14,
    0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0xFF,0xC4,0x00,0x14,0x10,0x01,0x00,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xDA,0x00,0x0C,0x03,
    0x01,0x00,0x02,0x11,0x03,0x11,0x00,0x3F,0x00,0xD2,0xCF,0x20,0xFF,0xD9
  ]);

  const imageBlob = new Blob([jpegBytes], { type: 'image/jpeg' });
  const formData = new FormData();
  formData.append("file", imageBlob, "black_pixel.jpg");

  const url = "https://dev2023.konosys.com/konosys_sesame_formation/ashx/UploaderPhoto.ashx?Nompiece=image_candidat&id_user=50233&Path=PathPhotoIndividus";

  try {
    const response = await fetch(url, {
      method: 'POST',
      credentials: 'include',
      headers: {
        'accept': 'application/json',
        'accept-language': 'en-US,en;q=0.9'
      },
      body: formData
    });

    if (response.ok) {
      const result = await response.json();
      console.log("Upload successful:", result);
    } else {
      console.error("Upload failed with status:", response.status);
    }
  } catch (err) {
    console.error("Error during upload:", err);
  }
})();
